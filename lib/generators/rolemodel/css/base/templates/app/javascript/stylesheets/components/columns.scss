// Inspired by https://bulma.io/documentation/columns/

.columns {
  @media screen and (min-width: $breakpoint-sm) {
    display: flex;
  }

  margin-left: calc(-1 * var(--space-sm));
  margin-right: calc(-1 * var(--space-sm));
  margin-top: calc(-1 * var(--space-sm));

  &:not(:last-child) {
    margin-bottom: calc(var(--space-lg) - var(--space-sm));
  }

  // Sizing Variables
  --four-fifths: calc(100% * 4/5);
  --three-fifths: calc(100% * 3/5);
  --two-fifths: calc(100% * 2/5);
  --one-fifth: calc(100% * 1/5);

  --three-quarters: calc(100% * 3/4);
  --one-quarter: calc(100% * 1/4);

  --two-thirds: calc(100% * 2/3);
  --one-third: calc(100% * 1/3);

  --one-half: calc(100% * 1/2);

  // 12 Space Sizings
  --one-twelfth: calc(100% / 12 * 1);
  --two-twelfths: calc(100% / 12 * 2);
  --three-twelfths: calc(100% / 12 * 3);
  --four-twelfths: calc(100% / 12 * 4);
  --five-twelfths: calc(100% / 12 * 5);
  --six-twelfths: calc(100% / 12 * 6);
  --seven-twelfths: calc(100% / 12 * 7);
  --eight-twelfths: calc(100% / 12 * 8);
  --nine-twelfths: calc(100% / 12 * 9);
  --ten-twelfths: calc(100% / 12 * 10);
  --eleven-twelfths: calc(100% / 12 * 11);
  --twelve-twelfths: 100%;
}

// Wrapping
.columns.is-multiline {
  flex-wrap: wrap;
}

// Gapless
.columns.is-gapless {
  margin-left: 0;
  margin-right: 0;
  margin-top: 0;

  &>.column {
    margin-top: 0;
    padding: 0!important;
  }
}

// Variable Gap Sizing
.columns.is-variable {
  --columnGap: var(--space-sm);
  margin-left: calc(-1 * var(--columnGap));
  margin-right: calc(-1 * var(--columnGap));

  // TODO: better name? These could be confused with the column sizings
  // E.G. `.columns.is-variable.is-1` is close to `.column.is-1`
  &.is-0 { --columnGap: 0rem; }
  &.is-1 { --columnGap: var(--space-xxs); }
  &.is-2 { --columnGap: var(--space-xs); }
  &.is-3 { --columnGap: var(--space-sm); }
  &.is-4 { --columnGap: var(--space-md); }
  &.is-5 { --columnGap: var(--space-lg); }
  &.is-6 { --columnGap: var(--space-xl); }

  &>.column {
    padding-left: var(--columnGap);
    padding-right: var(--columnGap);
  }

  &.is-multiline>.column {
    padding: var(--columnGap);
  }
}

// Force Flexing on Mobile
.columns.is-mobile {
  display: flex;

  &>.column {
    // Fifths Sizing
    &.is-four-fifths { width: var(--four-fifths); }
    &.is-three-fifths { width: var(--three-fifths); }
    &.is-two-fifths { width: var(--two-fifths); }
    &.is-one-fifth { width: var(--one-fifth); }
    // Fifths Offsets
    &.is-offset-four-fifths { margin-left: var(--four-fifths); }
    &.is-offset-three-fifths { margin-left: var(--three-fifths); }
    &.is-offset-two-fifths { margin-left: var(--two-fifths); }
    &.is-offset-one-fifth { margin-left: var(--one-fifth); }

    // Quarters Sizing
    &.is-three-quarters { width: var(--three-quarters); }
    &.is-one-quarter { width: var(--one-quarter); }
    // Quarters Offsets
    &.is-offset-three-quarters { margin-left: var(--three-quarters); }
    &.is-offset-one-quarter { margin-left: var(--one-quarter); }

    // Thirds Sizing
    &.is-two-thirds { width: var(--two-thirds); }
    &.is-one-third { width: var(--one-third); }
    // Thirds Offsets
    &.is-offset-two-thirds { margin-left: var(--two-thirds); }
    &.is-offset-one-third { margin-left: var(--one-third); }

    // Halves
    &.is-half { width: var(--one-half); }
    &.is-offset-half { margin-left: var(--one-half); }

    // 12 Space System Sizing
    &.is-1 { width: var(--one-twelfth); }
    &.is-2 { width: var(--two-twelfths); }
    &.is-3 { width: var(--three-twelfths); }
    &.is-4 { width: var(--four-twelfths); }
    &.is-5 { width: var(--five-twelfths); }
    &.is-6 { width: var(--six-twelfths); }
    &.is-7 { width: var(--seven-twelfths); }
    &.is-8 { width: var(--eight-twelfths); }
    &.is-9 { width: var(--nine-twelfths); }
    &.is-10 { width: var(--ten-twelfths); }
    &.is-11 { width: var(--eleven-twelfths); }
    &.is-12 { width: var(--twelve-twelfths); }
    // 12 Space System Offsets
    &.is-offset-1 { margin-left: var(--one-twelfth); }
    &.is-offset-2 { margin-left: var(--two-twelfths); }
    &.is-offset-3 { margin-left: var(--three-twelfths); }
    &.is-offset-4 { margin-left: var(--four-twelfths); }
    &.is-offset-5 { margin-left: var(--five-twelfths); }
    &.is-offset-6 { margin-left: var(--six-twelfths); }
    &.is-offset-7 { margin-left: var(--seven-twelfths); }
    &.is-offset-8 { margin-left: var(--eight-twelfths); }
    &.is-offset-9 { margin-left: var(--nine-twelfths); }
    &.is-offset-10 { margin-left: var(--ten-twelfths); }
    &.is-offset-11 { margin-left: var(--eleven-twelfths); }
  }
}

.column {
  display: block;
  flex-basis: 0;
  flex-grow: 1;
  flex-shrink: 1;
  padding: var(--space-sm);

  &.is-four-fifths, &.is-three-fifths, &.is-two-fifths, &.is-one-fifth,
  &.is-three-quarters, &.is-one-quarter,
  &.is-two-thirds, &.is-one-third,
  &.is-full, &.is-half,
  &.is-1, &.is-2, &.is-3, &.is-4, &.is-5, &.is-6,
  &.is-7, &.is-8, &.is-9, &.is-10, &.is-11, &.is-12 { flex: none; }

  &.is-full {
    width: 100%;
  }

  @media screen and (min-width: $breakpoint-sm) {
    // Fifths Sizing
    &.is-four-fifths { width: var(--four-fifths); }
    &.is-three-fifths { width: var(--three-fifths); }
    &.is-two-fifths { width: var(--two-fifths); }
    &.is-one-fifth { width: var(--one-fifth); }
    // Fifths Offsets
    &.is-offset-four-fifths { margin-left: var(--four-fifths); }
    &.is-offset-three-fifths { margin-left: var(--three-fifths); }
    &.is-offset-two-fifths { margin-left: var(--two-fifths); }
    &.is-offset-one-fifth { margin-left: var(--one-fifth); }

    // Quarters Sizing
    &.is-three-quarters { width: var(--three-quarters); }
    &.is-one-quarter { width: var(--one-quarter); }
    // Quarters Offsets
    &.is-offset-three-quarters { margin-left: var(--three-quarters); }
    &.is-offset-one-quarter { margin-left: var(--one-quarter); }

    // Thirds Sizing
    &.is-two-thirds { width: var(--two-thirds); }
    &.is-one-third { width: var(--one-third); }
    // Thirds Offsets
    &.is-offset-two-thirds { margin-left: var(--two-thirds); }
    &.is-offset-one-third { margin-left: var(--one-third); }

    // Halves
    &.is-half { width: var(--one-half); }
    &.is-offset-half { margin-left: var(--one-half); }

    // 12 Space System Sizing
    &.is-1 { width: var(--one-twelfth); }
    &.is-2 { width: var(--two-twelfths); }
    &.is-3 { width: var(--three-twelfths); }
    &.is-4 { width: var(--four-twelfths); }
    &.is-5 { width: var(--five-twelfths); }
    &.is-6 { width: var(--six-twelfths); }
    &.is-7 { width: var(--seven-twelfths); }
    &.is-8 { width: var(--eight-twelfths); }
    &.is-9 { width: var(--nine-twelfths); }
    &.is-10 { width: var(--ten-twelfths); }
    &.is-11 { width: var(--eleven-twelfths); }
    &.is-12 { width: var(--twelve-twelfths); }
    // 12 Space System Offsets
    &.is-offset-1 { margin-left: var(--one-twelfth); }
    &.is-offset-2 { margin-left: var(--two-twelfths); }
    &.is-offset-3 { margin-left: var(--three-twelfths); }
    &.is-offset-4 { margin-left: var(--four-twelfths); }
    &.is-offset-5 { margin-left: var(--five-twelfths); }
    &.is-offset-6 { margin-left: var(--six-twelfths); }
    &.is-offset-7 { margin-left: var(--seven-twelfths); }
    &.is-offset-8 { margin-left: var(--eight-twelfths); }
    &.is-offset-9 { margin-left: var(--nine-twelfths); }
    &.is-offset-10 { margin-left: var(--ten-twelfths); }
    &.is-offset-11 { margin-left: var(--eleven-twelfths); }
  }
}
